<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Card Deck</title>
  <link rel="stylesheet" href="styles/fonts.css">
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/cardDeck.css">
</head>

<body>
  <header>
    <div class="header-brand">
      <img src="../design/logo.png" alt="Powell's Bowells Logo">
      <span>Powell's Bowells</span>
    </div>
    <nav class="header-nav">
      <a href="landingPage.html">Home</a>
      <a href="restaurant-form.html">Add Restaurant</a>
      <a>Contact Us</a>
    </nav>
  </header>

  <main>

    <div class="cards-toolbar">
      <h2 class="edit-text">To Modify Names Click on Deck, To upload a picture click the picture</h2>
      <button class="edit-button">Edit</button>
    </div>
    <div class="cards-container" id="cards-container"></div>


    <!-- Footer -->
    <footer>
      <div class="header-brand">
        <img src="../design/logo.png" alt="Powell's Bowells Logo">
        <span>Powell's Bowells</span>
      </div>
      <div style="text-align: right; line-height: 1.6; font-size: 13px;">
        <div style="font-weight: bold;">Contact Us</div>
        <div>Email: hello@powellsbowells.com</div>
        <div>Phone: (123) 456-7890</div>
      </div>
    </footer>

    <script src="../frontend/js/deckControllerFrontEnd.js"></script>

    <script>
      const editBtn = document.querySelector('.edit-button');
      const mainElement = document.querySelector('main');
      editBtn.addEventListener('click', () => {
        const isEditing = mainElement.classList.toggle('edit-mode');
        editBtn.textContent = isEditing ? 'Done' : 'Edit';
      });
    </script>

    <script>
      const deckList = getDecks();
      const container = document.getElementById("cards-container");

      deckList.forEach(deck => {
        const card = document.createElement('a');
        card.className = 'card';
        card.href = `card-select.html?deck=${deck.id}`;

        card.innerHTML = `
      <div class="card-controls">
        <button class="remove-btn">-</button>
        <button class="edit-btn">âœŽ</button>
      </div>
      <div class="card-image">
        <img src="${getDeckImage(deck)}" alt="cardCoverImage"
          style="width: 100%; height: 100%; object-fit: cover; border-radius: 0.25rem;">
      </div>
      <div class="card-title">${deck.name}</div>
    `;
        card.querySelector(".edit-btn").addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation(); // prevent parent <a> from firing
          window.location.href = `deck-editor.html?deck=${deck.id}`;
        });

        container.appendChild(card);
      });

      const addCard = document.createElement('a');
      addCard.className = 'card add-card';
      addCard.href = 'deck-form.html';
      addCard.innerHTML = `<div class="card-title">+</div>`;
      container.appendChild(addCard);
    </script>


</body>

</html>